{
  "k8s pod init": {
    "prefix": "podinit",
    "description": "Initialize pod",
    "body": [
      "initContainers:",
      "  - name: init-permissions",
      "    image: busybox:latest",
      "    command:",
      "      - sh",
      "      - -c",
      "      - |",
      "        ${1:chown -R 1000:1000 /app/api/storage}",
      "    volumeMounts:",
      "      - name: ${2:data}",
      "        mountPath: ${3:/app/api/storage}",
    ],
  },
  "k8s pod tolerations": {
    "prefix": "tolerations",
    "description": "Configure pod tolerations",
    "body": [
      "tolerations:",
      "- key: ack-pool-name",
      "  operator: Equal",
      "  value:",
      "   - ${1:prd}",
      "    $0",
    ],
  },
  "k8s pod affinity": {
    "prefix": "affinity",
    "description": "Configure pod affinity",
    "body": [
      "affinity:",
      "  nodeAffinity:",
      "    requiredDuringSchedulingIgnoredDuringExecution:",
      "      nodeSelectorTerms:",
      "        - matchExpressions:",
      "            - key: ${1:ack-pool-name}",
      "              operator: In",
      "              values:",
      "                - ${2:prd}",
      "                $0",
    ],
  },
  "k8s persistent volume claim template": {
    "prefix": "volumeclaim",
    "description": "Configure persistent volume claim template",
    "body": [
      "volumeClaimTemplates:",
      "- metadata:",
      "    name: ${1:data}",
      "  spec:",
      "    accessModes:",
      "      - ${2:ReadWriteOnce}",
      "    resources:",
      "      requests:",
      "        storage: ${3:1Gi}",
      "    storageClassName: ${4:default}",
      "    $0",
    ],
  },
  "k8s general replicaset resource": {
    "prefix": "replicaset",
    "description": "Configure general replicaset resource",
    "body": [
      "apiVersion: ${1:apps/v1}",
      "kind: ${2:Deployment}",
      "metadata:",
      "  name: ${3:webserver}",
      "  labels:",
      "    app.kubernetes.io/name: $3",
      "spec:",
      "  replicas: ${4:1}",
      "  selector:",
      "    matchLabels:",
      "      app: ${5:nginx}",
      "  template:",
      "    metadata:",
      "      labels:",
      "        app: ${5:nginx}",
      "    spec:",
      "      containers:",
      "        - name: ${6:my-container}",
      "          image: ${7:my-image}",
      "          ports:",
      "            - name: http",
      "            - containerPort: ${8:8080}",
      "          resources:",
      "            requests:",
      "              cpu: ${9:50m}",
      "              memory: ${10:256Mi}",
      "            limits:",
      "              cpu: ${11:100m}",
      "              memory: ${12:512Mi}",
      "      $0",
    ],
  },
}
